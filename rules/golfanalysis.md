# 골프 시뮬레이터 분석 서비스 개발 규칙

## 골프 데이터 구조 및 관리

1. **라운드 데이터 형식**
   - 라운드 데이터는 `/public/data/rounds/{userId}/{roundId}.json` 형식으로 저장
   - 각 홀 별 데이터는 배열 형태로 관리 (1~18홀)
   - 기본 필드: 거리, 퍼팅 수, 타수, 페어웨이 안착 여부, 그린 적중 여부

2. **사용자 데이터 형식**
   - 사용자 기본 정보는 `/public/data/users/{userId}.json`에 저장
   - 사용자별 통계 데이터는 `/public/data/statistics/{userId}.json`에 저장
   - 핸디캡, 평균 타수, 드라이버 거리 등 핵심 지표 포함

3. **골프 코스 데이터**
   - 코스 정보는 `/public/data/courses/{courseId}.json`에 저장
   - 각 홀의 파, 거리, 난이도 등 기본 정보 포함
   - 코스별 통계 및 평균 기록 데이터 포함

4. **통계 데이터 생성**
   - 빌드 시점에 통계 데이터 자동 계산 및 생성
   - `scripts/process-data.js`에서 모든 통계 연산 처리
   - 사용자/코스/홀 별 다양한 통계 메트릭 생성

## 데이터 시각화 규칙

1. **차트 표현 방식**
   - 스코어 카드: 표 형태로 표현
   - 거리 분포: 히스토그램 또는 박스 플롯
   - 시간에 따른 변화: 라인 차트
   - 비교 분석: 레이더 차트 또는 바 차트

2. **색상 체계**
   - 언더파: 빨간색 계열
   - 파: 회색 또는 검정색
   - 오버파: 파란색 계열
   - 통계 차트: 녹색, 파란색 등 구분이 용이한 색상

3. **반응형 설계**
   - 모바일 디바이스에서 최적화된 차트 레이아웃
   - 가로/세로 모드 모두 고려한 레이아웃
   - 터치 인터랙션 지원

## 골프 분석 알고리즘

1. **핵심 분석 지표**
   - 스트로크 게인 분석
   - 샷 패턴 및 경향성 분석
   - 거리별 정확도 분석
   - 코스 관리 효율성 분석

2. **개인화된 인사이트**
   - 사용자별 강점/약점 자동 분석
   - 개선 포인트 추천
   - 유사한 실력의 골퍼와 비교 분석

3. **통계 방법론**
   - 이동 평균으로 추세 파악
   - 표준 편차로 일관성 측정
   - 다차원 분석으로 연관 요소 파악

## 사용자 인터페이스 지침

1. **네비게이션 구조**
   - 대시보드: 핵심 요약 정보
   - 라운드 분석: 개별 라운드 상세 분석
   - 통계: 장기간 트렌드 및 통계
   - 비교: 다른 라운드/골퍼와 비교

2. **데이터 필터링**
   - 날짜 범위 필터링
   - 코스별 필터링
   - 클럽별 필터링
   - 기상 조건별 필터링

3. **사용자 경험**
   - 초기 로딩 시 스켈레톤 UI 표시
   - 데이터 로딩 상태 명확히 표시
   - 오류 상태 적절히 처리
   - 직관적인 인터랙션 설계

## 성능 고려사항

1. **데이터 로딩 최적화**
   - 필요한 데이터만 지연 로딩
   - 사전 계산된 통계 활용
   - 브라우저 캐싱 적극 활용

2. **렌더링 최적화**
   - 차트 컴포넌트 메모이제이션
   - 데이터 변경 시에만 리렌더링
   - 대용량 데이터는 청크 단위로 처리

3. **오프라인 지원**
   - 주요 데이터 로컬 스토리지 캐싱
   - 서비스 워커를 통한 오프라인 지원
   - 네트워크 상태에 따른 우아한 성능 저하 