"use strict";(self.webpackChunkgolf_simulator_analysis_client=self.webpackChunkgolf_simulator_analysis_client||[]).push([[49],{66049:(e,t,r)=>{r.r(t),r.d(t,{default:()=>J});var n=r(9950),s=r(28429),a=r(16491),o=r(82053),l=r(18216),i=r(60899),c=r(48089),d=r(50704),h=r(2235),x=r(8145),u=r(25333),j=r(25979),m=r(3788),A=r(16101),g=r(23266),v=r(33174),y=r(46639),p=r(1320),_=r(15769),f=r(69780),b=r(9213),S=r(21671),C=r(34075),M=r(25277),k=r(82825),w=r(53256),I=r(8321),D=r(49715),W=r(31113),$=r(40379),B=r(17009),K=r(81831),R=r(32143),F=r(50639),P=r(81095),z=r(2847),L=r(93245),E=r(60158),G=r(44813),N=r(16335),O=r(25102),T=r(56473),Z=r(80294),q=r(62096),H=r(44414);const J=()=>{const[e,t]=(0,n.useState)([]),[r,J]=(0,n.useState)(!0),[Q,U]=(0,n.useState)(""),[V,X]=(0,n.useState)(1),[Y]=(0,n.useState)(10),[ee,te]=(0,n.useState)(null),[re,ne]=(0,n.useState)(null),[se,ae]=(0,n.useState)(""),[oe,le]=(0,n.useState)(1),[ie,ce]=(0,n.useState)(!1),[de,he]=(0,n.useState)(""),[xe,ue]=(0,n.useState)(""),[je,me]=(0,n.useState)({averageScore:0,bestScore:0,totalRounds:0,recentAverage:0}),Ae=(0,s.Zp)();(0,n.useEffect)((()=>{(async()=>{J(!0);try{setTimeout((()=>{const e=ve();t(e),le(Math.ceil(e.length/Y)),ge(e),J(!1)}),800)}catch(e){console.error("\ub77c\uc6b4\ub4dc \ub370\uc774\ud130 \uc870\ud68c \uc624\ub958:",e),U("\ub77c\uc6b4\ub4dc \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),J(!1)}})()}),[V,ee,re,se,de,xe]);const ge=e=>{if(0===e.length)return void me({averageScore:0,bestScore:0,totalRounds:0,recentAverage:0});const t=e.map((e=>e.total_score)),r=t.reduce(((e,t)=>e+t),0),n=Math.round(r/t.length*10)/10,s=Math.min(...t),a=e.slice(0,5).map((e=>e.total_score)),o=a.reduce(((e,t)=>e+t),0),l=a.length>0?Math.round(o/a.length*10)/10:0;me({averageScore:n,bestScore:s,totalRounds:e.length,recentAverage:l})},ve=()=>{const e=[],t=["\uc368\ub2c8\ubc38\ub9ac CC","\ub808\uc774\ud06c\uc0ac\uc774\ub4dc CC","\ud30c\uc778\ud790\uc2a4 CC","\ub9c8\uc6b4\ud2f4\ubdf0 GC","\uc2dc\ud2f0 GC"],r=["\ub3d9\ucf54\uc2a4","\uc11c\ucf54\uc2a4","\ub0a8\ucf54\uc2a4","\ubd81\ucf54\uc2a4","\ub808\uc774\ud06c\ucf54\uc2a4","\ub9c8\uc6b4\ud2f4\ucf54\uc2a4","\ubc38\ub9ac\ucf54\uc2a4"],n=["\ub9d1\uc74c","\ud750\ub9bc","\ube44","\ub208","\ubc14\ub78c"];for(let s=1;s<=20;s++){const a=new Date;a.setDate(a.getDate()-2*s),e.push({round_id:s,course_name:t[Math.floor(Math.random()*t.length)],first_course_number:Math.floor(4*Math.random())+1,first_course_name:r[Math.floor(Math.random()*r.length)],second_course_number:Math.floor(4*Math.random())+1,second_course_name:r[Math.floor(Math.random()*r.length)],round_date:a.toISOString().split("T")[0],round_time:`${Math.floor(12*Math.random()+7)}:${Math.floor(60*Math.random()).toString().padStart(2,"0")}`,total_score:Math.floor(30*Math.random())+72,weather_condition:n[Math.floor(Math.random()*n.length)],temperature:Math.floor(30*Math.random())+5,status:Math.random()>.1?1:0})}return e},ye=()=>{Ae("/rounds/new")},pe=e=>{Ae(`/rounds/${e}`)},_e=()=>{X(1)},fe=e.filter((e=>{let t=!0,r=!0;return de&&(t=e.course_name.includes(de)),"under80"===xe?r=e.total_score<80:"80to90"===xe?r=e.total_score>=80&&e.total_score<90:"90plus"===xe&&(r=e.total_score>=90),t&&r})),be=e=>{switch(e){case"\ub9d1\uc74c":return"\u2600\ufe0f";case"\ud750\ub9bc":return"\u2601\ufe0f";case"\ube44":return"\ud83c\udf27\ufe0f";case"\ub208":return"\u2744\ufe0f";case"\ubc14\ub78c":return"\ud83d\udca8";default:return"\ud83c\udf24\ufe0f"}};return(0,H.jsxs)(a.A,{children:[(0,H.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,H.jsx)(o.A,{variant:"h4",children:"\ub0b4 \ub77c\uc6b4\ub4dc \uae30\ub85d"}),(0,H.jsx)(l.A,{variant:"contained",startIcon:(0,H.jsx)(w.A,{}),onClick:ye,children:"\uc0c8 \ub77c\uc6b4\ub4dc \uae30\ub85d"})]}),(0,H.jsxs)(i.Ay,{container:!0,spacing:3,sx:{mb:3},children:[(0,H.jsx)(i.Ay,{item:!0,xs:12,md:3,children:(0,H.jsx)(c.A,{elevation:2,children:(0,H.jsxs)(d.A,{children:[(0,H.jsx)(o.A,{color:"text.secondary",gutterBottom:!0,children:"\uc804\uccb4 \ub77c\uc6b4\ub4dc"}),(0,H.jsxs)(o.A,{variant:"h4",children:[je.totalRounds,"\ud68c"]})]})})}),(0,H.jsx)(i.Ay,{item:!0,xs:12,md:3,children:(0,H.jsx)(c.A,{elevation:2,children:(0,H.jsxs)(d.A,{children:[(0,H.jsx)(o.A,{color:"text.secondary",gutterBottom:!0,children:"\ud3c9\uade0 \uc2a4\ucf54\uc5b4"}),(0,H.jsx)(o.A,{variant:"h4",children:je.averageScore})]})})}),(0,H.jsx)(i.Ay,{item:!0,xs:12,md:3,children:(0,H.jsx)(c.A,{elevation:2,children:(0,H.jsxs)(d.A,{children:[(0,H.jsx)(o.A,{color:"text.secondary",gutterBottom:!0,children:"\ucd5c\uadfc 5\ub77c\uc6b4\ub4dc \ud3c9\uade0"}),(0,H.jsx)(o.A,{variant:"h4",children:je.recentAverage}),(0,H.jsx)(o.A,{variant:"body2",color:je.recentAverage<je.averageScore?"success.main":"error.main",children:je.recentAverage<je.averageScore?`\u25bc ${(je.averageScore-je.recentAverage).toFixed(1)}`:`\u25b2 ${(je.recentAverage-je.averageScore).toFixed(1)}`})]})})}),(0,H.jsx)(i.Ay,{item:!0,xs:12,md:3,children:(0,H.jsx)(c.A,{elevation:2,children:(0,H.jsxs)(d.A,{children:[(0,H.jsx)(o.A,{color:"text.secondary",gutterBottom:!0,children:"\ubca0\uc2a4\ud2b8 \uc2a4\ucf54\uc5b4"}),(0,H.jsx)(o.A,{variant:"h4",children:je.bestScore})]})})})]}),(0,H.jsxs)(h.A,{elevation:2,sx:{p:3,mb:3},children:[(0,H.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"\ucd5c\uadfc \ub77c\uc6b4\ub4dc \uc2a4\ucf54\uc5b4 \ucd94\uc774"}),(0,H.jsx)(a.A,{sx:{height:300,mt:2},children:(0,H.jsx)(P.u,{width:"100%",height:"100%",children:(0,H.jsxs)(z.b,{data:e.slice(0,10).map((e=>({date:new Date(e.round_date).toLocaleDateString("ko-KR",{month:"short",day:"numeric"}),score:e.total_score,courseName:e.course_name.substring(0,8)+(e.course_name.length>8?"...":"")}))).reverse(),margin:{top:5,right:30,left:20,bottom:5},children:[(0,H.jsx)(L.d,{strokeDasharray:"3 3"}),(0,H.jsx)(E.W,{dataKey:"date"}),(0,H.jsx)(G.h,{domain:["dataMin - 5","dataMax + 5"]}),(0,H.jsx)(N.m,{}),(0,H.jsx)(O.s,{}),(0,H.jsx)(T.N,{type:"monotone",dataKey:"score",stroke:"#8884d8",activeDot:{r:8},name:"\uc2a4\ucf54\uc5b4"})]})})})]}),(0,H.jsxs)(h.A,{elevation:2,sx:{p:3,mb:3},children:[(0,H.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"\ucf54\uc2a4\ubcc4 \ud3c9\uade0 \uc2a4\ucf54\uc5b4"}),(0,H.jsx)(a.A,{sx:{height:300,mt:2},children:(0,H.jsx)(P.u,{width:"100%",height:"100%",children:(0,H.jsxs)(Z.E,{data:(()=>{const t={};return e.forEach((e=>{t[e.course_name]||(t[e.course_name]={scores:[],count:0}),t[e.course_name].scores.push(e.total_score),t[e.course_name].count+=1})),Object.keys(t).map((e=>({name:e,"\ud3c9\uade0":Math.round(t[e].scores.reduce(((e,t)=>e+t),0)/t[e].count*10)/10,"\ub77c\uc6b4\ub4dc\uc218":t[e].count})))})(),margin:{top:5,right:30,left:20,bottom:5},children:[(0,H.jsx)(L.d,{strokeDasharray:"3 3"}),(0,H.jsx)(E.W,{dataKey:"name"}),(0,H.jsx)(G.h,{yAxisId:"left",orientation:"left",stroke:"#8884d8"}),(0,H.jsx)(G.h,{yAxisId:"right",orientation:"right",stroke:"#82ca9d"}),(0,H.jsx)(N.m,{}),(0,H.jsx)(O.s,{}),(0,H.jsx)(q.y,{yAxisId:"left",dataKey:"\ud3c9\uade0",fill:"#8884d8"}),(0,H.jsx)(q.y,{yAxisId:"right",dataKey:"\ub77c\uc6b4\ub4dc\uc218",fill:"#82ca9d"})]})})})]}),(0,H.jsxs)(h.A,{elevation:2,sx:{p:3,mb:3},children:[(0,H.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,H.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"\ub77c\uc6b4\ub4dc \uac80\uc0c9"}),(0,H.jsx)(l.A,{variant:"outlined",startIcon:(0,H.jsx)(I.A,{}),onClick:()=>{ce(!ie)},size:"small",children:ie?"\ud544\ud130 \uc811\uae30":"\uc0c1\uc138 \ud544\ud130"})]}),(0,H.jsxs)(i.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,H.jsx)(i.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,H.jsx)(K.$,{dateAdapter:R.h,adapterLocale:F.A,children:(0,H.jsx)(B.l,{label:"\uc2dc\uc791 \ub0a0\uc9dc",value:ee,onChange:e=>te(e),slotProps:{textField:{fullWidth:!0}}})})}),(0,H.jsx)(i.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,H.jsx)(K.$,{dateAdapter:R.h,adapterLocale:F.A,children:(0,H.jsx)(B.l,{label:"\uc885\ub8cc \ub0a0\uc9dc",value:re,onChange:e=>ne(e),slotProps:{textField:{fullWidth:!0}}})})}),(0,H.jsx)(i.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,H.jsx)(x.A,{fullWidth:!0,label:"\ucf54\uc2a4\uba85 \uac80\uc0c9",value:se,onChange:e=>{ae(e.target.value)},InputProps:{endAdornment:(0,H.jsx)(u.A,{edge:"end",onClick:_e,children:(0,H.jsx)(D.A,{})})}})}),(0,H.jsx)(i.Ay,{item:!0,xs:12,sm:6,md:2,children:(0,H.jsx)(l.A,{fullWidth:!0,variant:"outlined",onClick:_e,children:"\uac80\uc0c9"})})]}),ie&&(0,H.jsxs)(i.Ay,{container:!0,spacing:2,alignItems:"center",sx:{mt:1},children:[(0,H.jsx)(i.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,H.jsxs)(j.A,{fullWidth:!0,children:[(0,H.jsx)(m.A,{children:"\uace8\ud504 \ucf54\uc2a4"}),(0,H.jsxs)(A.A,{value:de,label:"\uace8\ud504 \ucf54\uc2a4",onChange:e=>he(e.target.value),children:[(0,H.jsx)(g.A,{value:"",children:"\uc804\uccb4"}),Array.from(new Set(e.map((e=>e.course_name)))).map((e=>(0,H.jsx)(g.A,{value:e,children:e},e)))]})]})}),(0,H.jsx)(i.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,H.jsxs)(j.A,{fullWidth:!0,children:[(0,H.jsx)(m.A,{children:"\uc2a4\ucf54\uc5b4 \ubc94\uc704"}),(0,H.jsxs)(A.A,{value:xe,label:"\uc2a4\ucf54\uc5b4 \ubc94\uc704",onChange:e=>ue(e.target.value),children:[(0,H.jsx)(g.A,{value:"",children:"\uc804\uccb4"}),(0,H.jsx)(g.A,{value:"under80",children:"80 \ubbf8\ub9cc"}),(0,H.jsx)(g.A,{value:"80to90",children:"80~89"}),(0,H.jsx)(g.A,{value:"90plus",children:"90 \uc774\uc0c1"})]})]})})]})]}),Q&&(0,H.jsx)(v.A,{severity:"error",sx:{mb:3},children:Q}),r?(0,H.jsx)(a.A,{sx:{display:"flex",justifyContent:"center",my:5},children:(0,H.jsx)(y.A,{})}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(p.A,{component:h.A,elevation:2,children:(0,H.jsxs)(_.A,{sx:{minWidth:650},children:[(0,H.jsx)(f.A,{children:(0,H.jsxs)(b.A,{children:[(0,H.jsx)(S.A,{children:"\ub0a0\uc9dc"}),(0,H.jsx)(S.A,{children:"\uace8\ud504 \ucf54\uc2a4"}),(0,H.jsx)(S.A,{children:"\ucf54\uc2a4 \uc815\ubcf4"}),(0,H.jsx)(S.A,{align:"center",children:"\ub0a0\uc528"}),(0,H.jsx)(S.A,{align:"center",children:"\uc2a4\ucf54\uc5b4"}),(0,H.jsx)(S.A,{align:"center",children:"\uc0c1\ud0dc"}),(0,H.jsx)(S.A,{align:"center",children:"\uc0c1\uc138"})]})}),(0,H.jsxs)(C.A,{children:[fe.slice((V-1)*Y,V*Y).map((e=>{return(0,H.jsxs)(b.A,{sx:{"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},cursor:"pointer"},onClick:()=>pe(e.round_id),children:[(0,H.jsx)(S.A,{component:"th",scope:"row",children:(0,H.jsxs)(a.A,{children:[(0,H.jsx)(o.A,{variant:"body1",children:(t=e.round_date,new Date(t).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"}))}),(0,H.jsx)(o.A,{variant:"body2",color:"text.secondary",children:e.round_time})]})}),(0,H.jsx)(S.A,{children:(0,H.jsx)(o.A,{variant:"body1",children:e.course_name})}),(0,H.jsx)(S.A,{children:(0,H.jsxs)(o.A,{variant:"body2",children:[e.first_course_name," / ",e.second_course_name?e.second_course_name:""]})}),(0,H.jsx)(S.A,{align:"center",children:(0,H.jsxs)(a.A,{children:[(0,H.jsxs)(o.A,{variant:"body1",children:[be(e.weather_condition)," ",e.weather_condition]}),(0,H.jsxs)(o.A,{variant:"body2",color:"text.secondary",children:[e.temperature,"\xb0C"]})]})}),(0,H.jsx)(S.A,{align:"center",children:(0,H.jsx)(o.A,{variant:"body1",fontWeight:"bold",color:e.total_score<=72?"success.main":"inherit",children:e.total_score})}),(0,H.jsx)(S.A,{align:"center",children:(0,H.jsx)(M.A,{label:1===e.status?"\uc644\ub8cc":"\uc9c4\ud589\uc911",color:1===e.status?"success":"warning",size:"small"})}),(0,H.jsxs)(S.A,{align:"center",children:[(0,H.jsx)(u.A,{size:"small",color:"primary",onClick:t=>{t.stopPropagation(),pe(e.round_id)},children:(0,H.jsx)(W.A,{})}),(0,H.jsx)(u.A,{size:"small",color:"secondary",onClick:t=>{t.stopPropagation(),Ae(`/rounds/edit/${e.round_id}`)},sx:{ml:1},children:(0,H.jsx)($.A,{})})]})]},e.round_id);var t})),0===fe.length&&(0,H.jsx)(b.A,{children:(0,H.jsxs)(S.A,{colSpan:7,align:"center",sx:{py:3},children:[(0,H.jsx)(o.A,{variant:"body1",children:"\ub77c\uc6b4\ub4dc \uae30\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}),(0,H.jsx)(l.A,{variant:"outlined",startIcon:(0,H.jsx)(w.A,{}),onClick:ye,sx:{mt:2},children:"\uc0c8 \ub77c\uc6b4\ub4dc \uae30\ub85d\ud558\uae30"})]})})]})]})}),(0,H.jsx)(a.A,{sx:{display:"flex",justifyContent:"center",mt:3},children:(0,H.jsx)(k.A,{count:oe,page:V,onChange:(e,t)=>{X(t)},color:"primary"})})]})]})}}}]);